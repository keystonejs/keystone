import { MDXProvider } from '@mdx-js/react';
import { components } from '../../../components/Markdown';
import { getHeadings } from '../../../lib/getHeadings';
import { H1 } from '../../../components/docs/Heading';
import { DocsPage } from '../../../components/Page';
import {
  DocumentEditorDemo,
  DocumentFeaturesFormAndCode,
  DocumentFeaturesProvider,
} from '../../../components/docs/DocumentEditorDemo';
import Intro from './_doc-field-intro.mdx';
import { Well } from '../../../components/primitives/Well';
import { RelatedContent } from '../../../components/RelatedContent';
import { InlineCode } from '../../../components/primitives/Code';

## Configure the demo

The document field is highly configurable.
The form below lets you control which features are enabled in the demo editor.
You can see the changes both in the toolbar of the editor, and in the field configuration itself.

<DocumentFeaturesFormAndCode />

export default ({ children }) => {
  const headings = getHeadings(children);
  return (
    <DocsPage
      noProse
      title={'Document Fields Demo'}
      description={'Try Keystone’s powerful new Document field. Experiment with its config settings in real time to shape custom editing experiences.'}
      headings={[
        {
          label: 'Document Field Demo',
          id: 'document-field-demo',
          depth: 1,
        },
        ...headings,
      ]}
    >
      <DocumentFeaturesProvider>
        <div className="prose">
          <H1>Document Fields Demo</H1>
          <MDXProvider components={components}><Intro /></MDXProvider>
        </div>
        <DocumentEditorDemo />
        <div className="prose">
          <MDXProvider components={components}>{children}</MDXProvider>
        </div>
      </DocumentFeaturesProvider>
    </DocsPage>
  );
};

## Related resources

<RelatedContent>
  <Well
    heading="Document Field Guide"
    href="/docs/guides/document-fields"
    >
    Keystone’s document field is a highly customisable rich text editor that stores content as structured JSON. Learn how to configure it and incorporate your own custom React components.
  </Well>
  <Well
    heading="Example Project: Document Field"
    href="https://github.com/keystonejs/keystone/tree/main/examples/document-field"
    target="_blank"
    rel="noopener noreferrer"
    >
    Illustrates how to configure <InlineCode>document</InlineCode> fields in your Keystone system and render their data in a frontend application. Builds on the Blog starter project.
  </Well>
</RelatedContent>
